---
interface Props {
  icon: 'gamepad' | 'star' | 'trophy' | 'coin' | 'heart' | 'lightning' | 'music' | 'settings';
  size?: number;
  color?: string;
}

const { icon, size = 48, color = 'currentColor' } = Astro.props;

const icons = {
  gamepad: `<rect x="8" y="16" width="32" height="16" rx="2"/><rect x="12" y="8" width="8" height="8" rx="1"/><rect x="28" y="8" width="8" height="8" rx="1"/><circle cx="16" cy="28" r="3"/><circle cx="32" cy="28" r="3"/><rect x="22" y="26" width="4" height="4" rx="1"/>`,
  star: `<path d="M24 4L27 16L40 16L30 23L34 36L24 29L14 36L18 23L8 16L21 16Z"/>`,
  trophy: `<path d="M8 8H40V16H40C40 24 34 32 24 32C14 32 8 24 8 16H8V8Z"/><rect x="20" y="32" width="8" height="4"/><rect x="16" y="36" width="16" height="4" rx="2"/><circle cx="24" cy="20" r="4"/>`,
  coin: `<circle cx="24" cy="24" r="18" fill="#FFD700" stroke="#FFA500" stroke-width="4"/><circle cx="24" cy="24" r="14" fill="#FFEC8B"/><text x="24" y="28" font-size="14" font-weight="bold" text-anchor="middle" fill="#B8860B">$</text>`,
  heart: `<path d="M24 42L8 28C4 24 4 18 8 14C12 10 18 10 22 14L24 16L26 14C30 10 36 10 40 14C44 18 44 24 40 28L24 42Z"/>`,
  lightning: `<path d="M28 4L16 24H24L20 44L32 22H24L28 4Z"/>`,
  music: `<ellipse cx="20" cy="34" rx="6" ry="4"/><ellipse cx="36" cy="30" rx="6" ry="4"/><rect x="22" y="14" width="4" height="20"/><rect x="38" y="10" width="4" height="20"/><rect x="24" y="10" width="14" height="4"/>`,
  settings: `<circle cx="24" cy="24" r="6"/><path d="M24 4V10M24 38V44M4 24H10M38 24H44M10 10L14 14M34 34L38 38M10 38L14 34M34 14L38 10"/>`
};
---

<div class="pixel-icon" style={`width: ${size}px; height: ${size}px;`}>
  <svg viewBox="0 0 48 48" fill="none" stroke={color} stroke-width="2" stroke-linecap="square" stroke-linejoin="miter">
    <set fragment={html: icons[icon]} />
  </svg>
</div>

<style>
  .pixel-icon {
    display: inline-block;
    filter: drop-shadow(0 0 4px currentColor);
    transition: transform 0.1s ease, filter 0.2s ease;
  }

  .pixel-icon:hover {
    transform: scale(1.1);
    filter: drop-shadow(0 0 8px currentColor) brightness(1.2);
  }

  @keyframes pixelBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-4px); }
  }

  .pixel-icon:hover {
    animation: pixelBounce 0.3s ease infinite;
  }
</style>
